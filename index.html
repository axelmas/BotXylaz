<!DOCTYPE html>
<html>
  <head>
    <title>Xylaz</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="container">
      <div class="chat-window">
        <div class="chat-header">
          <h2>Terminal del Diablo</h2>
        </div>
        <div class="chat-history" id="chat-history">
          <!-- Mensajes generados dinámicamente se agregarán aquí -->
        </div>
        <div class="chat-input">
          <input type="text" id="prompt" placeholder="¿Qué quieres, mortal?">
          <button id="submit-btn">Enviar</button>
        </div>
      </div>
    </div>

    <!-- Librería jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Archivo con la lógica de auto respuesta -->
    <script>
      $(document).ready(function () {
        const chatHistory = $("#chat-history");
        const promptInput = $("#prompt");
        const submitBtn = $("#submit-btn");

        // Función para mostrar mensajes en el historial
        function addMessage(message, sender) {
          const messageClass = sender === "user" ? "user-message" : "ai-message";
          const messageElement = `<div class="${messageClass}">${message}</div>`;
          chatHistory.append(messageElement);
          chatHistory.scrollTop(chatHistory[0].scrollHeight); // Autoscroll al final
        }

        // Respuestas del diablo
        function getAIResponse(userMessage) {
          const responses = {
            "hola": "¿Hola? ¿Eso es todo lo que tienes, miserable criatura?",
            "quién eres": "Soy tu peor pesadilla. No preguntes si no puedes soportar la respuesta.",
            "qué haces": "Condeno almas... y respondo a preguntas estúpidas como las tuyas.",
            "gracias": "¿Gracias? Ja. Mejor no me des las gracias, no las necesito.",
            "adiós": "Sí, mejor márchate antes de que pierda mi paciencia.",
          };

          return (
            responses[userMessage.toLowerCase()] ||
            "¿Qué clase de tontería es esta? Habla claro, mortal."
          );
        }

        // Manejar el envío de mensajes
        submitBtn.on("click", function () {
          const userMessage = promptInput.val().trim();

          if (userMessage) {
            addMessage(userMessage, "user"); // Muestra el mensaje del usuario
            promptInput.val(""); // Limpia el campo de entrada

            // Muestra la respuesta grotesca después de un pequeño retraso
            setTimeout(() => {
              const aiResponse = getAIResponse(userMessage); // Obtiene la respuesta
              addMessage(aiResponse, "ai");
            }, 500); // Retraso simulado de 500ms
          }
        });

        // Enviar con la tecla Enter
        promptInput.on("keypress", function (e) {
          if (e.which === 13) {
            submitBtn.click();
          }
        });
      });
    </script>
  </body>
</html>
